<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<title>Dynamons World</title>
	<link type="image/png" rel="icon" href="favicon.png">
	<meta id="viewport" name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
	<meta name="apple-mobile-web-app-capable" content="yes">
	<script type="text/javascript">
        console.log("Game Modded By DDatiOS");
        window.GameAnalytics = { configureAutoDetectAppVersion: function() {}, setEnabledInfoLog: function() {}, setEnabledVerboseLog: function() {}, initialize: function() {}, startSession: function() {} };
        window.plugins = { impacTracking: { requestTracking: function(arg1, successCallback, errorCallback) { if (typeof successCallback === 'function') { successCallback("granted"); } } } };
        window.notificationAuthorization = { requestNotificationAuthorization: function(callback) { if (typeof callback === 'function') { callback(); } } };
        window.navigator.didomi = { initialize: function(apiKey, anotherKey, successCallback, errorCallback) { if (typeof errorCallback === 'function') { errorCallback(); } }, getUserConsent: function(callback) { if(typeof callback === 'function') { callback('true'); } }, setUserDisagreeToAll: function() {}, showNotice: function() {} };
        window.store = { QUIET: 'quiet', NON_CONSUMABLE: 'non_consumable', CONSUMABLE: 'consumable', verbosity: '', when: function() { return this; }, updated: function() { return this; }, error: function(cb) { return this; }, approved: function() { return this; }, cancelled: function(cb) { return this; }, finished: function() { return this; }, initiated: function() { return this; }, register: function() {}, order: function() {}, get: function(productId) { return { id: productId, price: "$0.99", title: "Mock Product", state: "approved", owned: true }; }, refresh: function() { var mockPromise = { completed: function(callback) { if (typeof callback === 'function') { callback(); } return this; }, failed: function(callback) { return this; }, cancelled: function(callback) { return this; } }; return mockPromise; } };
        window.cordova = { plugin: { cloudsettings: { isSignedInToICloud: function(callback) { if (typeof callback === 'function') { callback(false); } }, enableDebug: function() {}, exists: function() {}, save: function() {}, load:function() {} } }, plugins: { impacTracking: window.plugins.impacTracking, firebase: { analytics: { logEvent: function(name, params) { console.log("Mock: FirebaseAnalytics.logEvent() -> Name: " + name, params); } } } } };
    </script>
    <script type="text/javascript" src="./lib/firebase-app.js"></script>
    <script type="text/javascript" src="./lib/firebase-database.js"></script>
	<style>
        html, body {
            margin: 0; padding: 0; height: 100%; overflow: hidden;
            background-color: #1a1a1a;
            display: flex; justify-content: center; align-items: center;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
        }
        #content { background: #000000; }
        .popup-overlay {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            opacity: 0;
            transition: opacity 0.3s ease-in-out;
        }
        .popup-box {
            background: #2c2c2c;
            color: #fff;
            padding: 25px 30px;
            border-radius: 16px;
            text-align: center;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transform: scale(0.9);
            transition: transform 0.3s ease-in-out;
        }
        .popup-box h2 {
            margin: 0 0 10px 0;
            font-size: 24px;
            color: #4fc3f7;
        }
        .popup-box p {
            margin: 0 0 25px 0;
            color: #ccc;
            font-size: 16px;
        }
        .popup-box button {
            background-image: linear-gradient(45deg, #4fc3f7, #29b6f6);
            color: white;
            border: none;
            border-radius: 8px;
            padding: 12px 30px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        .popup-box button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(79, 195, 247, 0.3);
        }
    </style>
</head>
<body>

<div id="mod-popup" class="popup-overlay">
    <div class="popup-box">
        <h2>Discord : ddatios._.</h2>
        <p>Client Modded by DDatiOS</p>
        <button id="close-popup-btn">OK</button>
    </div>
</div>

<div id="version" style="z-index: 999; position: absolute; color: white; right: 10px; top: 10px; opacity: 0.5;">v1.12.08</div>
<div id="content"></div>

<script type="text/javascript">
	function addScript(src, buster, callback) {
		var s = document.createElement('script'); s.setAttribute('src', src + '?v=' + buster);
		if (typeof callback === 'function') { s.onload = callback; } document.body.appendChild(s);
	}

    window.addEventListener('load', function() {
        const popup = document.getElementById('mod-popup');
        const popupBox = document.querySelector('.popup-box');
        const closeBtn = document.getElementById('close-popup-btn');

        setTimeout(function() {
            popup.style.opacity = '1';
            popupBox.style.transform = 'scale(1)';
        }, 100);

        closeBtn.addEventListener('click', function() {
            popup.style.opacity = '0';
            popupBox.style.transform = 'scale(0.9)';
            setTimeout(function() {
                popup.style.display = 'none';
            }, 300);
        });
    });

	document.addEventListener("deviceready", function() {
		addScript('version.js', Date.now(), function () {
			addScript("./dynamons_world.min.js", version, function () {
                const GAME_ASPECT_RATIO = 9 / 16;
                const screenHeight = window.innerHeight;
                const screenWidth = window.innerWidth;
                let logicalHeight = screenHeight;
                let logicalWidth = logicalHeight * GAME_ASPECT_RATIO;
                if (logicalWidth > screenWidth) {
                    logicalWidth = screenWidth;
                    logicalHeight = logicalWidth / GAME_ASPECT_RATIO;
                }
                const contentDiv = document.getElementById("content");
                contentDiv.style.width = logicalWidth + 'px';
                contentDiv.style.height = logicalHeight + 'px';
                const finalWidth = contentDiv.clientWidth;
                const finalHeight = contentDiv.clientHeight;
				lime.embed("dynamons_world", "content", finalWidth * 2, finalHeight * 2, {background:"000000"});
			});
		});
	});
    setTimeout(function() { document.dispatchEvent(new Event('deviceready')); }, 0);
</script>
</body>
</html>